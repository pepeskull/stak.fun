<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- FAVICON -->
<link rel="icon" type="image/png" sizes="16x16 32x32 48x48 64x64" href="https://stak.fun/assets/fav.png"/>

<!-- HTML Meta Tags -->
<title>Stak.fun</title>
<meta name="description" content="Bundle tokens on Solana using multiple wallets with automated execution.">

<!-- Open Graph / Facebook -->
<meta property="og:url" content="https://stak.fun">
<meta property="og:type" content="website">
<meta property="og:title" content="Stak.fun">
<meta property="og:description" content="Bundle tokens on Solana using multiple wallets with automated execution.">
<meta property="og:image" content="https://stak.fun/assets/og.png">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@stakfun">
<meta property="twitter:domain" content="stak.fun">
<meta property="twitter:url" content="https://stak.fun">
<meta name="twitter:title" content="Stak.fun">
<meta name="twitter:description" content="Bundle tokens on Solana using multiple wallets with automated execution.">
<meta name="twitter:image" content="https://stak.fun/assets/twitter.png">

<!-- STYLE -->
<link rel="stylesheet" href="styles.css" />
</head>
<body>

<div class="app">

  <header class="site-header">
  <div class="header-inner">
    <!-- Logo -->
    <div class="header-logo">
      <span>Stak<dot>.</dot>fun</span>
    </div>

    <!-- Menu -->
    <nav class="header-menu">
      <button class="menu-btn" onclick="window.open('https://github.com/pepeskull/stak.fun', '_blank', 'noopener')">Github</button>
      <button class="menu-btn" onclick="window.open('https://x.com/stakfun', '_blank', 'noopener')">Twitter</button>
      <div id="access-timer" class="menu-btn" hidden>30:00</div>
    </nav>
  </div>
</header>

  <!-- ================= ACCESS PAGE ================= -->

  <div id="access-page" class="page">
    <section class="card" style="max-width: 900px; margin: 20px auto;">
  <canvas
    id="qr-canvas"
    width="220"
    height="220"
    style="display:block;margin:20px auto;"
  ></canvas>

  <div class="address-label" style="margin-bottom: 12px;">
    Single-Use Address
  </div>

  <!-- ADDRESS INPUT + COPY -->
  <div class="mint-input" style="margin-bottom: 24px;">
    <input id="receive-address" value="Generating..." readonly/>
    <button id="copy-receive-address" class="secondary" style="position:absolute;right:0;top:0;height: 100%;border-radius:0 8px 8px 0;max-width: 100px;font-size: 11px;">Copy</button>
  </div>

  <div class="address-note"
    style="
      background-color:#18191b;
      border:0;
      padding:0;
      display:inline-flex;
      align-items:center;
      gap:6px;
      margin-bottom:24px;
    "
  >
    <svg width="12" height="12" viewBox="0 0 24 24" fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path d="M23 4v6h-6M1 20v-6h6"
        stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"
        stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    New address generated on every page load
  </div>
  <div class="fee-row">
    <span class="fee-label">Platform Fee</span>
    <span class="fee-value" id="platform-fee-sol">0.05 SOL</span>
  </div>
  <button id="continue-btn" class="primary" style="width:100%;" disabled>Loading…</button>
  <div class="warning" style="margin-top:16px;">
    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="warning-icon">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></circle>
            <line x1="12" y1="8" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></line>
            <line x1="12" y1="16" x2="12.01" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></line>
             </svg> Deposit 0.05 SOL. Smaller deposits will not be credited.
  </div>
</section>
  </div>

  <!-- ================= BUNDLE PAGE ================= -->

  <div id="bundle-page" class="page hidden" hidden>
    <div id="topup-banner" class="warning hidden">
      <svg
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="alert-icon"
      >
        <path
          d="M12 22S5 18 5 12V6L12 3L19 6V12C19 18 12 22 12 22Z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
      </svg>
      <div>
        <strong>Session ending soon.</strong>
      </div>
      <button id="topup-btn" class="secondary">Top Up</button>
    </div>
    <div class="options">
      <button id="buyspl" class="primary">Bundle Token</button>
      <button id="sellspl" class="primary">Sell Bundle</button>
    </div>

    <!-- TOKEN INFO -->
    <div class="token-row">

      <!-- MINT CARD -->
      <section class="card">
        <h2>Token Address</h2>

        <label>Mint Address *</label>

        <div class="mint-input">
          <input id="mintAddress" placeholder="SPL Contract Address">
          <div id="tickerBadge">Ticker</div>
        </div>
      </section>

      <!-- LOGO CARD -->
      <section class="card logo-card">
        <div class="logo-box">
          <img id="logoPreview" />
        </div>
      </section>
    </div>

    <!-- WALLETS -->
    <section class="card wallet-layout">
      <div class="wallet-center">
        <div id="activeWallet"></div>
      </div>

      <div class="wallet-stack-wrapper">
        <div id="walletStack" class="wallet-stack"></div>
      </div>
    </section>

    <button id="addWalletBtn" class="secondary">
      Add Wallet (<span id="walletCount">1</span>/16)
    </button>

    <footer class="footer">
      <p><span id="totalLabel">Total</span>: <span id="totalCost">0.0000 SOL</span></p>
      <button id="buyBtn" class="primary">Buy Bundle</button>
    </footer>

    <section class="warning">
      <svg
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="alert-icon"
      >
        <path
          d="M12 22S5 18 5 12V6L12 3L19 6V12C19 18 12 22 12 22Z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
      </svg>
      <div id="warning-text">
        We do NOT store or transmit private keys.
      </div>
    </section>

    <!-- TX MODAL -->
    <div id="txModal" class="modal hidden">
      <div class="modal-content">
        <div id="txList"></div>
        <button id="closeModal" class="secondary">
          Close
        </button>
      </div>
    </div>

    <!-- TOP UP MODAL -->
    <div id="topupModal" class="modal hidden">
      <div class="modal-content">
        <canvas
          id="topup-qr-canvas"
          width="220"
          height="220"
          style="display:block;margin:20px auto;"
        ></canvas>
        <div class="address-label" style="margin-bottom: 12px;">
          Single-Use Address
        </div>
        <div class="mint-input" style="margin-bottom: 24px;">
          <input id="topup-receive-address" value="Generating..." readonly/>
          <button id="topup-copy-receive-address" class="secondary" style="position:absolute;right:0;top:0;height: 100%;border-radius:0 8px 8px 0;max-width: 100px;font-size: 11px;">Copy</button>
        </div>
        <div class="fee-row">
          <span class="fee-label">Top Up Fee</span>
          <span class="fee-value" id="topup-fee-sol">0.05 SOL</span>
        </div>
        <button id="topup-continue-btn" class="primary" style="width:100%;" disabled>Loading…</button>
        <button id="topup-close-btn" class="secondary" style="width:100%;margin-top:12px;">Cancel</button>
      </div>
    </div>

  </div>
</div>

<!-- ================= SCRIPTS ================= -->
<script src="https://unpkg.com/@solana/web3.js@1.98.2/lib/index.iife.min.js"></script>
<script src="https://unpkg.com/tweetnacl@1.0.3/nacl.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  
<script src="app.js"></script>

</body>
</html>




